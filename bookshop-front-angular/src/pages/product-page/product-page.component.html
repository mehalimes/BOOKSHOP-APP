<div class="container">
  <h2>YYÜ KİTABEVİ</h2>
  <a *ngIf="!this.sharedState.isAuthenticated" routerLink="/login">
    Giriş Yap
  </a>
  <a *ngIf="!this.sharedState.isAuthenticated" routerLink="/register">
    Kayıt ol
  </a>
  <h4 *ngIf="this.sharedState.isAuthenticated">{{ this.sharedState.email }}</h4>
  <a *ngIf="this.sharedState.isAuthenticated" routerLink="/cart">Sepetim</a>
  <a *ngIf="this.sharedState.isAuthenticated" routerLink="/orders"
    >Siparişlerim</a
  >
  <button *ngIf="sharedState.isAuthenticated" (click)="signOut()">Çıkış</button>
  <div class="content-container">
    <div class="product-container">
      <img src="{{ this.book?.publicId }}" />
      <h1 class="title">{{ this.book?.title }}</h1>
      <h3 class="subTitle">{{ this.book?.subTitle }}</h3>
      <h3 class="isbn">{{ this.book?.isbn_13 }}</h3>
      <h3 class="author">{{ this.book?.author }}</h3>
      <h2 class="price">{{ this.book?.price }} ₺</h2>
      <button
        (click)="functions.addToCart(this.id, this.sharedState.email, $event)"
      >
        Sepete Ekle
      </button>
    </div>
    <div class="comment-container">
      <h1>Yorumlar</h1>
      <div class="comments">
        <app-comment
          *ngFor="let comment of sharedState.allComments"
          [id]="comment.id"
          [email]="comment.email"
          [content]="comment.content"
          [bookId]="comment.bookId"
        >
        </app-comment>
      </div>
      <textarea [(ngModel)]="this.commentTextArea"></textarea>
      <button (click)="addComment()">Yorum Yap</button>
    </div>
  </div>
</div>
